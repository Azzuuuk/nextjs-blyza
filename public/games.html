<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blyza Game Center</title> <!-- Changed title -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #FF8833;
            --secondary: #CB7AE1;
            --light: #F2F2F2;
            --success: #00BFA6;
            --dark: #1a1c20;
            --darker: #0f1012;
            --accent1: #FF6B6B;
            --accent2: #4ECDC4;
            --accent3: #FFE66D;
            --accent4: #6C63FF;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, var(--dark) 0%, var(--darker) 100%);
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 20%, rgba(255, 136, 51, 0.08) 0%, transparent 40%), /* Adjusted alpha and size */
                radial-gradient(circle at 80% 80%, rgba(203, 122, 225, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(0, 191, 166, 0.08) 0%, transparent 40%);
            pointer-events: none;
            z-index: 0;
        }

        .header {
            text-align: center;
            padding: 30px 20px 20px; /* Adjusted padding */
            margin-bottom: 20px; /* Adjusted margin */
            position: relative;
        }
        /* Brand Logo Styles */
        .brand-logo-prominent {
            display: block;
            margin: 0 auto 15px; /* Space below logo */
            max-height: 80px; /* Adjust as needed */
            object-fit: contain;
            filter: drop-shadow(0 3px 6px rgba(0,0,0,0.3));
        }

        h1 {
            font-family: "Luckiest Guy", cursive;
            font-weight: 400;
            font-style: normal;
            font-size: 3.5rem; /* Slightly adjusted */
            color: var(--light);
            text-shadow:
                0 10px 10px rgba(0, 0, 0, 0.3), /* Adjusted shadow */
                0 20px 30px rgba(0, 0, 0, 0.2);
            -webkit-text-stroke: 1.5px rgb(0, 0, 0); /* Adjusted stroke */
            margin-bottom: 10px; /* Adjusted */
            position: relative;
            display: inline-block;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -8px; /* Adjusted */
            left: 50%;
            transform: translateX(-50%);
            width: 70%; /* Adjusted */
            height: 3px; /* Adjusted */
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent1), var(--accent2));
            border-radius: 2px;
        }

        .subtitle {
            font-size: 1.2rem; /* Adjusted */
            color: var(--secondary);
            max-width: 550px; /* Adjusted */
            margin: 0 auto;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .game-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 25px;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .game-card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--primary);
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(255, 136, 51, 0.3);
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent1), var(--accent2));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .game-card:hover::before {
            opacity: 1;
        }

        .game-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--primary);
            transition: transform 0.3s ease;
        }

        .game-card:hover .game-icon {
            transform: scale(1.2) rotate(5deg);
        }

        .game-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--light);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
         .game-card .game-title a,
        .game-card .game-title a:link,
        .game-card .game-title a:visited {
          color: var(--light);
          text-decoration: none;
        }
        .game-card .game-title a:hover {
          color: var(--primary);
          text-decoration: underline;
        }


        .game-description {
            color: rgba(242, 242, 242, 0.8);
            font-size: 1rem;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .game-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--secondary);
            background: rgba(255, 255, 255, 0.05);
            padding: 10px;
            border-radius: 15px;
            margin-top: 15px;
        }

        .game-stat { display: flex; align-items: center; gap: 5px; }
        .game-stat i { font-size: 0.9rem; }

        .category-tag {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 191, 166, 0.15);
            color: var(--success);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            border: 1px solid var(--success);
            box-shadow: 0 2px 8px rgba(0, 191, 166, 0.2);
            transform: rotate(2deg);
            transition: transform 0.3s ease;
        }
        .game-card:hover .category-tag { transform: rotate(0deg) scale(1.1); }

        .search-bar {
            max-width: 600px;
            margin: 0 auto 30px; /* Adjusted margin */
            position: relative;
            transform: translateY(0);
            transition: transform 0.3s ease;
        }
        .search-bar:focus-within { transform: translateY(-5px); }
        .search-input {
            width: 100%; padding: 15px 20px; padding-left: 55px; /* Adjusted padding */
            border-radius: 30px; border: 2px solid rgba(255,255,255,0.1);
            background: rgba(255,255,255,0.08); color: var(--light);
            font-size: 1rem; /* Adjusted */ transition: all 0.3s ease; backdrop-filter: blur(10px);
        }
        .search-input:focus {
            outline: none; border-color: var(--primary);
            box-shadow: 0 0 15px rgba(255,136,51,0.2), 0 0 30px rgba(255,136,51,0.1); /* Adjusted */
        }
        .search-icon {
            position: absolute; left: 20px; /* Adjusted */ top: 50%;
            transform: translateY(-50%); color: var(--primary);
            font-size: 1.2rem; /* Adjusted */ transition: transform 0.3s ease;
        }
        .search-bar:focus-within .search-icon { transform: translateY(-50%) scale(1.2); }

        .category-filter {
            display: flex; justify-content: center; gap: 12px; /* Adjusted */
            margin-bottom: 30px; /* Adjusted */ flex-wrap: wrap; padding: 0 15px; /* Adjusted */
        }
        .category-btn {
            background: rgba(255,255,255,0.08); border: 2px solid rgba(255,255,255,0.1);
            color: var(--light); padding: 10px 20px; /* Adjusted */
            border-radius: 25px; cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175,0.885,0.32,1.275);
            font-weight: 600; font-size: 0.9rem; /* Adjusted */ backdrop-filter: blur(10px);
        }
        .category-btn:hover {
            transform: translateY(-3px) scale(1.05); border-color: var(--primary);
            box-shadow: 0 5px 15px rgba(255,136,51,0.2);
        }
        .category-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--accent1));
            border-color: transparent; color: var(--light);
            box-shadow: 0 5px 15px rgba(255,136,51,0.3);
        }

        .store-btn-container { position: fixed; bottom: 30px; right: 30px; z-index: 100; }
        .store-btn {
            background: linear-gradient(135deg, var(--primary) 0%, #ff7711 100%);
            color: var(--light); border: none; padding: 15px 25px;
            font-size: 1.1rem; border-radius: 50px; cursor: pointer;
            font-weight: 600; transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            font-family: "Quicksand", sans-serif; display: flex;
            align-items: center; gap: 10px; text-decoration: none;
        }
        .store-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
            background: linear-gradient(135deg, #ff7711 0%, var(--primary) 100%);
        }
        .store-btn:active { transform: translateY(-1px); }

        /* Settings Icon Button (New) */
        .settings-btn-container {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 100;
        }
        .settings-btn { /* Same as audio-control-btn before */
            background: linear-gradient(135deg, var(--secondary) 0%, #a85ac6 100%);
            color: var(--light); border: none; width: 50px; height: 50px;
            font-size: 1.2rem; border-radius: 50%; cursor: pointer;
            transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            display: flex; align-items: center; justify-content: center;
        }
        .settings-btn:hover { transform: translateY(-3px) scale(1.1); box-shadow: 0 8px 25px rgba(0,0,0,0.4); background: linear-gradient(135deg, #a85ac6 0%, var(--secondary) 100%);}
        .settings-btn:active { transform: translateY(-1px) scale(1.02); }


        /* Modal Styles (Copied from other games) */
        .modal {
            position: fixed; z-index: 1000; left: 0; top: 0;
            width: 100%; height: 100%; overflow: auto;
            background-color: rgba(0,0,0,0.6); backdrop-filter: blur(5px);
            display: none; justify-content: center; align-items: center;
        }
        .modal-content {
            background-color: var(--darker); margin: auto; padding: 25px;
            border: 1px solid rgba(255,255,255,0.2); border-radius: 12px;
            width: 80%; max-width: 450px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.5);
            position: relative; color: var(--light);
        }
        .modal-content h2 {
            font-family: "Bungee", cursive; color: var(--primary);
            text-align: center; margin-bottom: 20px; font-size: 1.5rem;
        }
        .setting-item { margin-bottom: 18px; display: flex; flex-direction: column; }
        .setting-item label { margin-bottom: 7px; font-weight: 600; font-size: 0.9rem; }
        input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 18px; width: 18px; border-radius: 50%; background: var(--primary); cursor: pointer; margin-top: -6px; box-shadow: 0 0 4px rgba(0,0,0,0.3); }
        input[type=range]::-moz-range-thumb { height: 18px; width: 18px; border-radius: 50%; background: var(--primary); cursor: pointer; border: none; box-shadow: 0 0 4px rgba(0,0,0,0.3); }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 5px; cursor: pointer; background: rgba(255,255,255,0.2); border-radius: 2.5px; }
        input[type=range]::-moz-range-track { width: 100%; height: 5px; cursor: pointer; background: rgba(255,255,255,0.2); border-radius: 2.5px; }
        .close-modal-btn { color: #aaa; position: absolute; top: 10px; right: 15px; font-size: 24px; font-weight: bold; cursor: pointer; }
        .close-modal-btn:hover, .close-modal-btn:focus { color: var(--light); text-decoration: none; }
        /* Button for SFX toggle in modal */
        .modal-content button {
            background: linear-gradient(135deg, var(--primary) 0%, #ff7711 100%);
            color: var(--light); border: none; padding: 10px 20px; font-size: 1rem;
            border-radius: 8px; cursor: pointer; font-weight: 600;
            transition: all 0.3s ease; box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            margin-top: 5px;
        }
        .modal-content button:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }


        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .game-card:nth-child(odd) { animation: float 6s ease-in-out infinite; }
        .game-card:nth-child(even) { animation: float 6s ease-in-out infinite 1s; }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; } /* Adjusted */
            .games-grid { grid-template-columns: 1fr; padding: 10px; }
            .category-filter { padding: 0 15px; } /* Adjusted */
            .game-card { animation: none !important; }
            .store-btn-container { bottom: 20px; right: 20px; }
            .store-btn { padding: 12px 20px; font-size: 1rem; }
            .settings-btn-container { bottom: 20px; left: 20px; } /* Adjusted */
            .settings-btn { width: 45px; height: 45px; font-size: 1rem; } /* Adjusted */
            .modal-content { padding: 20px;}
        }
    </style>
</head>
<body>

    <div class="store-btn-container">
        <a href="/store" class="store-btn">
            <i class="fas fa-store"></i> Store
        </a>
    </div>

    <!-- Settings Button -->
    <div class="settings-btn-container">
        <button id="settings-open-btn" class="settings-btn" aria-label="Open Settings">
            <i class="fas fa-cog"></i>
        </button>
    </div>

    <div class="header">
        <img class="brand-logo-prominent" src="https://static.wixstatic.com/shapes/9ce3e5_4f0149a89dd841859da02f59247b5b6b.svg" alt="Blyza Mascot">
        <h1>Blyza Game Center</h1>
        <p class="subtitle">Choose from our collection of exciting games and challenges!</p>
    </div>

    <div class="search-bar">
        <i class="fas fa-search search-icon"></i>
        <input type="text" class="search-input" placeholder="Search games...">
    </div>

    <div class="category-filter">
        <button class="category-btn active" data-category="All Games">All Games</button>
        <button class="category-btn" data-category="Brain Busters">Brain Busters</button>
        <button class="category-btn" data-category="Social & Deception">Social & Deception</button>
        <button class="category-btn" data-category="Quickfire">Quickfire</button>
    </div>

    <div class="games-grid">
        <!-- Guess The Price -->
        <div class="game-card" data-category="Social & Deception">
            <span class="category-tag">Social & Deception</span>
            <i class="fas fa-tag game-icon"></i>
            <h3 class="game-title"><a href="/games/game1">Guess the Price</a></h3>
            <p class="game-description">Price detective? Shopping guru? Test your instincts in Guess the Price â€“ How close can you get?</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-users"></i> 1-4 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 5-10 min</span>
            </div>
        </div>
       
        <div class="game-card" data-category="Brain Busters">
            <span class="category-tag">Brain Busters</span>
            <i class="fas fa-robot game-icon"></i>
            <h3 class="game-title"><a href="/games/game3">Real or AI</a></h3>
            <p class="game-description">Human masterpiece or AI creation? Test your perception in this reality-blurring game where nothing is quite as it seems!</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 1-4 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 3-5 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Social & Deception">
            <span class="category-tag">Social & Deception</span>
            <i class="fas fa-user-secret game-icon"></i>
            <h3 class="game-title"><a href="/games/game2">Find The Imposter</a></h3>
            <p class="game-description">Where words deceive and answers mislead! One player hides in plain sight.</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-users"></i> 3-10 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 10-15 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Brain Busters">
            <span class="category-tag">Brain Busters</span>
            <i class="fas fa-brain game-icon"></i>
            <h3 class="game-title"><a href="/games/game4">Point Pursuit</a></h3>
            <p class="game-description">Test your wit with answers seeking questions. Fame, fortune, and intellectual bragging rights await to those bold enough.</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-users"></i> 2-4 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 15-25 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Social & Deception">
            <span class="category-tag">Social & Deception</span>
            <i class="fas fa-box-open game-icon"></i>
            <h3 class="game-title"><a href="/games/game5">Box of Lies</a></h3>
            <p class="game-description">Deception or truth? Master the art of the perfect poker face as you bluff, trick, and laugh your way to victory!</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 2-6 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 5-15 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Social & Deception">
            <span class="category-tag">Social & Deception</span>
            <i class="fas fa-comments game-icon"></i>
            <h3 class="game-title"><a href="/games/game6">Paranoia</a></h3>
            <p class="game-description">Trust no one as secrets and suspicions turn friends into nervous wrecks!</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 3-12 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 10-20 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Quickfire">
            <span class="category-tag">Quickfire</span>
            <i class="fas fa-play game-icon"></i>
            <h3 class="game-title"><a href="/games/game7">What Happens Next?</a></h3>
            <p class="game-description">Place your bets on unexpected twists. Will your prediction match the chaotic reality?</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-users"></i> 1-4 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 5-15 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Social & Deception">
            <span class="category-tag">Social & Deception</span>
            <i class="fas fa-heart-circle-exclamation game-icon"></i>
            <h3 class="game-title"><a href="/games/game8">Siblings or Dating</a></h3>
            <p class="game-description">Guess if the pair are family orâ€¦ something more. Its trickier than you think!</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 1-4 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 3-5 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Quickfire">
            <span class="category-tag">Quickfire</span>
            <i class="fas fa-stopwatch game-icon"></i>
            <h3 class="game-title"><a href="/games/game9">5 Seconds Frenzy</a></h3>
            <p class="game-description">Quick! Name 3 ____ before the timer runs out. Sounds easy? Wait till the pressure kicks in!</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-users"></i> 2-8 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 3-5 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Quickfire">
            <span class="category-tag">Quickfire</span>
            <i class="fas fa-folder-tree game-icon"></i>
            <h3 class="game-title"><a href="/games/game10">Categories Showdown</a></h3>
            <p class="game-description">One topic, endless answers â€” until your mind goes blank!</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 2-8 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 5-10 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Quickfire">
            <span class="category-tag">Quickfire</span>
            <i class="fas fa-dumbbell game-icon"></i>
            <h3 class="game-title"><a href="/games/game11">Categories Showdown - IRL</a></h3>
            <p class="game-description">Run, point, jump, shout! Each round comes with a physical challenge.</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 2-8 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 5-10 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Brain Busters">
            <span class="category-tag">Brain Busters</span>
            <i class="fas fa-arrow-down-a-z game-icon"></i>
            <h3 class="game-title"><a href="/games/game12">Word Wars</a></h3>
            <p class="game-description">One word to guess, two captains battling it out. Say less, win more!</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 2-8 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 5-10 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Brain Busters">
            <span class="category-tag">Brain Busters</span>
            <i class="fas fa-lock game-icon"></i>
            <h3 class="game-title"><a href="/games/game13">Password Pursuit</a></h3>
            <p class="game-description">Two captains, two teams, and a whole lot of head-scratching - clue cleverly!</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 2-8 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 5-10 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Quickfire">
            <span class="category-tag">Quickfire</span>
            <i class="fas fa-circle-nodes game-icon"></i>
            <h3 class="game-title"><a href="/games/game14">Connect the Dots</a></h3>
            <p class="game-description">Two letters. One word. Fastest brains win!</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-users"></i> 2-6 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 5-10 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Quickfire">
            <span class="category-tag">Quickfire</span>
            <i class="fas fa-spell-check game-icon"></i>
            <h3 class="game-title"><a href="/games/game15">Gen Z-dle</a></h3>
            <p class="game-description">It's giving... word. You either get it or you dont, bestie. ðŸ’…</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 1-4 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 2-3 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Brain Busters">
            <span class="category-tag">Brain Busters</span>
            <i class="fas fa-earth-americas game-icon"></i>
            <h3 class="game-title"><a href="/games/game16">Where in the World?</a></h3>
            <p class="game-description">Journey around the globe without leaving your seat! Decipher the clues and can guess the location.</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 1-4 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 3-5 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Brain Busters">
            <span class="category-tag">Brain Busters</span>
            <i class="fas fa-flag game-icon"></i>
            <h3 class="game-title"><a href="/games/game17">Guess the Flag</a></h3>
            <p class="game-description">Test your global knowledge! Can you recognize these colorful banners?</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 1-4 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 2-3 min</span>
            </div>
        </div>
        <div class="game-card" data-category="Brain Busters">
            <span class="category-tag">Brain Busters</span>
            <i class="fas fa-face-grin-squint-tears game-icon"></i>
            <h3 class="game-title"><a href="/games/game18">Moji Mania</a></h3>
            <p class="game-description">What story do these emojis tell? Put your interpretation skills to the test!</p>
            <div class="game-stats">
                <span class="game-stat"><i class="fas fa-user"></i> 1-4 Players</span>
                <span class="game-stat"><i class="fas fa-clock"></i> 2-3 min</span>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <span id="settings-close-btn" class="close-modal-btn">Ã—</span>
            <h2>Settings</h2>
            <div class="setting-item">
                <label for="bgm-volume-slider">Background Music Volume:</label>
                <input type="range" id="bgm-volume-slider" min="0" max="1" step="0.01" value="0.3">
            </div>
            <div class="setting-item">
                <label for="sfx-toggle-btn">Sound Effects (Clicks):</label>
                <button id="sfx-toggle-btn">SFX: ON</button>
            </div>
        </div>
    </div>


    <!-- Audio Players -->
    <audio id="background-music" loop>
        <source src="https://static.wixstatic.com/mp3/9ce3e5_973dcdec546a44b594013ec040a9eb20.mp3" type="audio/mpeg">
    </audio>
    <audio id="category-select-sound">
        <source src="https://static.wixstatic.com/mp3/9ce3e5_fc326aa1760c485dbac083ec55c2bfcb.wav" type="audio/wav">
    </audio>
    <audio id="item-select-sound">
        <source src="https://static.wixstatic.com/mp3/9ce3e5_1b9151238aec4e29ab14f1526e9c1334.mp3" type="audio/mpeg">
    </audio>

    <script>
        const gameConfig = { // New config object
            sfxEnabled: true,
            musicVolume: 0.3 // Default music volume
        };

        const searchInput = document.querySelector('.search-input');
        const gameCards = document.querySelectorAll('.game-card');
        const categoryButtons = document.querySelectorAll('.category-btn');

        // DOM Elements for settings and audio
        const backgroundMusic = document.getElementById('background-music');
        const settingsOpenBtn = document.getElementById('settings-open-btn'); // Changed from mute-btn
        const settingsModal = document.getElementById('settings-modal');
        const settingsCloseBtn = document.getElementById('settings-close-btn');
        const bgmVolumeSlider = document.getElementById('bgm-volume-slider');
        const sfxToggleBtn = document.getElementById('sfx-toggle-btn');

        const categorySelectSound = document.getElementById('category-select-sound');
        const itemSelectSound = document.getElementById('item-select-sound');


        // --- Sound Function ---
        function playSound(audioElement) {
            if (gameConfig.sfxEnabled && audioElement) {
                audioElement.currentTime = 0;
                audioElement.play().catch(error => console.error("Error playing sound:", error));
            }
        }
        // --- Helper function for links with sound + delayed navigation ---
        function handleLinkWithSound(linkElement, soundElement) {
            if (!linkElement || !soundElement) return;

            linkElement.addEventListener('click', function(event) {
                event.preventDefault();
                const targetUrl = this.href;
                let navigated = false;

                const navigate = () => {
                    if (!navigated) {
                        navigated = true;
                        window.location.href = targetUrl;
                    }
                };
                playSound(soundElement); // Play sound using the new function
                soundElement.onended = navigate; // Navigate when sound finishes (might not always fire reliably)
                setTimeout(navigate, 500); // Fallback navigation
            });
        }


        // --- Search functionality ---
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            gameCards.forEach(card => {
                const title = card.querySelector('.game-title').textContent.toLowerCase();
                const description = card.querySelector('.game-description').textContent.toLowerCase();
                const categoryTag = card.querySelector('.category-tag').textContent.toLowerCase();
                const isVisible = title.includes(searchTerm) || description.includes(searchTerm) || categoryTag.includes(searchTerm);
                card.style.display = isVisible ? 'block' : 'none';
            });
        });

        // --- Category filter functionality & Sound ---
        categoryButtons.forEach(button => {
            button.addEventListener('click', () => {
                playSound(categorySelectSound); // Play category selection sound

                categoryButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');

                const selectedCategory = button.dataset.category; // Use data-category
                gameCards.forEach(card => {
                    const cardCategory = card.dataset.category; // Use data-category
                    if (selectedCategory === 'All Games' || cardCategory === selectedCategory) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // --- Game Links Sound & Navigation ---
        const gameLinks = document.querySelectorAll('.game-card .game-title a');
        gameLinks.forEach(link => {
            handleLinkWithSound(link, itemSelectSound);
        });

        // --- Store Button Sound & Navigation ---
        const storeButton = document.querySelector('.store-btn');
        if (storeButton) {
             handleLinkWithSound(storeButton, itemSelectSound);
        }


        // --- Settings Modal Logic ---
        if (settingsOpenBtn && settingsModal && settingsCloseBtn) {
            settingsOpenBtn.addEventListener('click', () => {
                playSound(categorySelectSound); // Use a generic UI sound
                settingsModal.style.display = 'flex';
            });
            settingsCloseBtn.addEventListener('click', () => {
                playSound(categorySelectSound);
                settingsModal.style.display = 'none';
            });
            window.addEventListener('click', (event) => {
                if (event.target === settingsModal) {
                    playSound(categorySelectSound);
                    settingsModal.style.display = 'none';
                }
            });
        }

        // --- BGM Volume Control ---
        if (bgmVolumeSlider && backgroundMusic) {
            bgmVolumeSlider.value = gameConfig.musicVolume; // Set initial slider value
            backgroundMusic.volume = gameConfig.musicVolume; // Set initial volume
            bgmVolumeSlider.addEventListener('input', (e) => {
                gameConfig.musicVolume = parseFloat(e.target.value);
                backgroundMusic.volume = gameConfig.musicVolume;
            });
        }

        // --- SFX Toggle Control ---
        if (sfxToggleBtn) {
            function updateSfxButtonText() {
                sfxToggleBtn.textContent = `SFX: ${gameConfig.sfxEnabled ? 'ON' : 'OFF'}`;
                sfxToggleBtn.style.background = gameConfig.sfxEnabled ?
                    'linear-gradient(135deg, var(--success), #00a890)' :
                    'linear-gradient(135deg, var(--danger), #ff416c)';
            }
            updateSfxButtonText(); // Initial text

            sfxToggleBtn.addEventListener('click', () => {
                gameConfig.sfxEnabled = !gameConfig.sfxEnabled;
                updateSfxButtonText();
                playSound(categorySelectSound); // Play a sound for the toggle itself
            });
        }

        // Attempt to play background music on load (browsers might block this)
        document.addEventListener('DOMContentLoaded', () => {
            if (backgroundMusic) {
                 backgroundMusic.volume = gameConfig.musicVolume; // Set initial volume
                 backgroundMusic.play().catch(error => {
                    console.log("Background music autoplay was prevented by the browser. User interaction may be required to start.", error);
                    // Optionally, you could show a "Click to enable sound" message or button here
                });
            }
            // Ensure category buttons have data-category for filtering
            categoryButtons.forEach(btn => {
                if (!btn.dataset.category) { // If data-category is not already set
                    btn.dataset.category = btn.textContent.trim();
                }
            });
            // Ensure game cards have data-category
            gameCards.forEach(card => {
                const tag = card.querySelector('.category-tag');
                if (tag) {
                    card.dataset.category = tag.textContent.trim();
                } else {
                    card.dataset.category = "Uncategorized"; // Fallback
                }
            });

        });
    </script>
</body>
</html>